{"version":3,"file":"accounting.umd.js","sources":["../lib/settings.js","../lib/unformat.js","../lib/internal/checkPrecision.js","../lib/toFixed.js","../node_modules/object-assign/index.js","../lib/internal/stripInsignificantZeros.js","../lib/formatNumber.js","../node_modules/is-string/index.js","../lib/internal/checkCurrencyFormat.js","../lib/formatMoney.js","../lib/formatColumn.js"],"sourcesContent":["/**\n * The library's settings configuration interface.\n *\n * @typedef {Object} Settings\n * @property {String} [symbol='$'] - Currency symbol\n * @property {String|Object} [format='%s%v'] - Controls output: %s = symbol, %v = value (can be object, see docs)\n * @property {String} [decimal='.'] - Decimal point separator\n * @property {String} [thousand=',] - Thousands separator\n * @property {Number} [precision=2] - Decimal places\n * @property {Number} [grouping=3] - Digit grouping (not implemented yet)\n * @property {Boolean} [stripZeros=false] - Strip insignificant zeros from decimal part\n * @property {Float} [fallback=0] - Value returned on unformat() failure\n */\n\n/**\n * The library's default settings configuration object.\n * Contains default parameters for currency and number formatting.\n *\n * @type {Settings} settings\n */\nconst settings = {\n  symbol: '$',\n  format: '%s%v',\n  decimal: '.',\n  thousand: ',',\n  precision: 2,\n  grouping: 3,\n  stripZeros: false,\n  fallback: 0\n};\n\nexport default settings;\n","import settings from './settings';\n\n/**\n * Takes a string/array of strings, removes all formatting/cruft and returns the raw float value.\n *\n * Decimal must be included in the regular expression to match floats (defaults to\n * `settings.decimal`), so if the number uses a non-standard decimal\n * separator, provide it as the second argument.\n *\n * Also matches bracketed negatives (eg. `'$ (1.99)' => -1.99`).\n *\n * Doesn't throw any errors (`NaN`s become 0 or provided by fallback value).\n *\n * _Alias_: `parse(value, decimal, fallback)`\n *\n * **Usage:**\n *\n * ```js\n * unformat('£ 12,345,678.90 GBP');\n * // => 12345678.9\n * ```\n *\n * @access public\n * @param {String|Array<String>} value - String or array of strings containing the number/s to parse\n * @param {Number} [decimal=settings.decimal] - Number of decimal digits of the resultant number\n * @param {Float} [fallback=settings.fallback] - Value returned on unformat() failure\n * @return {Float} - Parsed number\n */\nfunction unformat(value, decimal = settings.decimal, fallback = settings.fallback) {\n  // Recursively unformat arrays:\n  if (Array.isArray(value)) {\n    return value.map((val) => unformat(val, decimal, fallback));\n  }\n\n  // Return the value as-is if it's already a number\n  if (typeof value === 'number') return value;\n\n   // Build regex to strip out everything except digits, decimal point and minus sign\n  const regex = new RegExp('[^0-9-(-)-' + decimal + ']', ['g']);\n  const unformattedValueString =\n      ('' + value)\n      .replace(regex, '')         // strip out any cruft\n      .replace(decimal, '.')      // make sure decimal point is standard\n      .replace(/\\(([-]*\\d*[^)]?\\d+)\\)/g, '-$1') // replace bracketed values with negatives\n      .replace(/\\((.*)\\)/, '');   // remove any brackets that do not have numeric value\n\n  /**\n   * Handling -ve number and bracket, eg.\n   * (-100) = 100, -(100) = 100, --100 = 100\n   */\n  const negative = (unformattedValueString.match(/-/g) || 2).length % 2,\n    absUnformatted = parseFloat(unformattedValueString.replace(/-/g, '')),\n    unformatted = absUnformatted * ((negative) ? -1 : 1);\n\n  // This will fail silently which may cause trouble, let's wait and see\n  return !isNaN(unformatted) ? unformatted : fallback;\n}\n\nexport default unformat;\n","/**\n * Check and normalise the value of precision (must be positive integer).\n */\nfunction checkPrecision(val, base) {\n  val = Math.round(Math.abs(val));\n  return isNaN(val) ? base : val;\n}\n\nexport default checkPrecision;\n","import checkPrecision from './internal/checkPrecision';\nimport settings from './settings';\n\n/**\n * Implementation of toFixed() that treats floats more like decimals.\n *\n * Fixes binary rounding issues (eg. (0.615).toFixed(2) === '0.61') that present\n * problems for accounting- and finance-related software.\n *\n * **Usage:**\n *\n * ```js\n * // Native toFixed has rounding issues\n * (0.615).toFixed(2);\n * // => '0.61'\n *\n * // With accounting-js\n * toFixed(0.615, 2);\n * // => '0.62'\n * ```\n *\n * @access public\n * @param {Float} value - Float to be treated as a decimal number\n * @param {Number} [precision=settings.precision] - Number of decimal digits to keep\n * @return {String} - Given number transformed into a string with the given precission\n */\nfunction toFixed(value, precision) {\n  precision = checkPrecision(precision, settings.precision);\n  const power = Math.pow(10, precision);\n\n  // Multiply up by precision, round accurately, then divide and use native toFixed()\n  return (Math.round((value + 1e-8) * power) / power).toFixed(precision);\n}\n\nexport default toFixed;\n","/* eslint-disable no-unused-vars */\n'use strict';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nmodule.exports = Object.assign || function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (Object.getOwnPropertySymbols) {\n\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","\nfunction stripInsignificantZeros(str, decimal) {\n  const parts = str.split(decimal);\n  const integerPart = parts[0];\n  const decimalPart = parts[1].replace(/0+$/, '');\n\n  if (decimalPart.length > 0) {\n    return integerPart + decimal + decimalPart;\n  }\n\n  return integerPart;\n}\n\nexport default stripInsignificantZeros;\n","import objectAssign from 'object-assign';\n\nimport stripInsignificantZeros from './internal/stripInsignificantZeros';\nimport settings from './settings';\nimport toFixed from './toFixed';\n\n/**\n * Format a number, with comma-separated thousands and custom precision/decimal places.\n *\n * _Alias_: `format(number, opts)`\n *\n * **Usage:**\n *\n * ```js\n * // Default usage\n * formatNumber(5318008);\n * // => 5,318,008\n *\n * // Custom format\n * formatNumber(9876543.21, { precision: 3, thousand: \" \" });\n * // => 9 876 543.210\n * ```\n *\n * @access public\n * @param {Number} number - Number to be formatted\n * @param {Object} [opts={}] - Object containing all the options of the method\n * @return {String} - Given number properly formatted\n  */\nfunction formatNumber(number, opts = {}) {\n  // Resursively format arrays:\n  if (Array.isArray(number)) {\n    return number.map((val) => formatNumber(val, opts));\n  }\n\n  // Build options object from second param (if object) or all params, extending defaults\n  opts = objectAssign({},\n    settings,\n    opts\n  );\n\n  // Do some calc\n  const negative = number < 0 ? '-' : '';\n  const base = parseInt(toFixed(Math.abs(number), opts.precision), 10) + '';\n  const mod = base.length > 3 ? base.length % 3 : 0;\n\n  // Format the number\n  const formatted = negative +\n    (mod ? base.substr(0, mod) + opts.thousand : '') +\n      base.substr(mod).replace(/(\\d{3})(?=\\d)/g, '$1' + opts.thousand) +\n        (opts.precision > 0 ? opts.decimal + toFixed(Math.abs(number), opts.precision).split('.')[1] : '');\n\n  return opts.stripZeros ? stripInsignificantZeros(formatted, opts.decimal) : formatted;\n}\n\nexport default formatNumber;\n","'use strict';\n\nvar strValue = String.prototype.valueOf;\nvar tryStringObject = function tryStringObject(value) {\n\ttry {\n\t\tstrValue.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar strClass = '[object String]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isString(value) {\n\tif (typeof value === 'string') { return true; }\n\tif (typeof value !== 'object') { return false; }\n\treturn hasToStringTag ? tryStringObject(value) : toStr.call(value) === strClass;\n};\n","import isString from 'is-string';\n\n/**\n * Parses a format string or object and returns format obj for use in rendering.\n *\n * `format` is either a string with the default (positive) format, or object\n * containing `pos` (required), `neg` and `zero` values.\n *\n * Either string or format.pos must contain '%v' (value) to be valid.\n *\n * @private\n * @param {String} [format='%s%v'] - String with the format to apply, where %s is the currency symbol and %v is the value\n * @return {Object} object represnting format (with pos, neg and zero attributes)\n */\nfunction checkCurrencyFormat(format) {\n  // Format should be a string, in which case `value` ('%v') must be present\n  if (isString(format) && format.match('%v')) {\n    // Create and return positive, negative and zero formats\n    return {\n      pos: format,\n      neg: format.replace('-', '').replace('%v', '-%v'),\n      zero: format\n    };\n  }\n\n  // Otherwise, assume format was fine\n  return format;\n}\n\nexport default checkCurrencyFormat;\n","import objectAssign from 'object-assign';\n\nimport checkCurrencyFormat from './internal/checkCurrencyFormat';\nimport settings from './settings';\nimport formatNumber from './formatNumber';\n\n/**\n * Format a number into currency.\n *\n * **Usage:**\n *\n * ```js\n * // Default usage\n * formatMoney(12345678);\n * // => $12,345,678.00\n *\n * // European formatting (custom symbol and separators)\n * formatMoney(4999.99, { symbol: \"€\", precision: 2, thousand: \".\", decimal: \",\" });\n * // => €4.999,99\n *\n * // Negative values can be formatted nicely\n * formatMoney(-500000, { symbol: \"£ \", precision: 0 });\n * // => £ -500,000\n *\n * // Simple `format` string allows control of symbol position (%v = value, %s = symbol)\n * formatMoney(5318008, { symbol: \"GBP\",  format: \"%v %s\" });\n * // => 5,318,008.00 GBP\n * ```\n *\n * @access public\n * @param {Number} number - Number to be formatted\n * @param {Object} [opts={}] - Object containing all the options of the method\n * @return {String} - Given number properly formatted as money\n */\nfunction formatMoney(number, opts = {}) {\n  // Resursively format arrays\n  if (Array.isArray(number)) {\n    return number.map((val) => formatMoney(val, opts));\n  }\n\n  // Build options object from second param (if object) or all params, extending defaults\n  opts = objectAssign({},\n    settings,\n    opts\n  );\n\n  // Check format (returns object with pos, neg and zero)\n  const formats = checkCurrencyFormat(opts.format);\n\n  // Choose which format to use for this value\n  let useFormat;\n\n  if (number > 0) {\n    useFormat = formats.pos;\n  } else if (number < 0) {\n    useFormat = formats.neg;\n  } else {\n    useFormat = formats.zero;\n  }\n\n  // Return with currency symbol added\n  return useFormat\n    .replace('%s', opts.symbol)\n    .replace('%v', formatNumber(Math.abs(number), opts));\n}\n\nexport default formatMoney;\n","import objectAssign from 'object-assign';\nimport isString from 'is-string';\n\nimport checkCurrencyFormat from './internal/checkCurrencyFormat';\nimport settings from './settings';\nimport formatNumber from './formatNumber';\nimport unformat from './unformat';\n\n/**\n * Format a list of numbers into an accounting column, padding with whitespace\n * to line up currency symbols, thousand separators and decimals places.\n *\n * Returns array of accouting-formatted number strings of same length.\n *\n * NB: `white-space:pre` CSS rule is required on the list container to prevent\n * browsers from collapsing the whitespace in the output strings.\n *\n * **Usage:**\n *\n * ```js\n * formatColumn([123.5, 3456.49, 777888.99, 12345678, -5432], { symbol: \"$ \" });\n * ```\n *\n * @access public\n * @param {Array<Number>} list - Array of numbers to format\n * @param {Object} [opts={}] - Object containing all the options of the method\n * @return {Array<String>} - Array of accouting-formatted number strings of same length\n */\nfunction formatColumn(list, opts = {}) {\n  if (!list) return [];\n\n  // Build options object from second param (if object) or all params, extending defaults\n  opts = objectAssign({},\n    settings,\n    opts\n  );\n\n  // Check format (returns object with pos, neg and zero), only need pos for now\n  const formats = checkCurrencyFormat(opts.format);\n\n  // Whether to pad at start of string or after currency symbol\n  const padAfterSymbol = formats.pos.indexOf('%s') < formats.pos.indexOf('%v');\n\n  // Store value for the length of the longest string in the column\n  let maxLength = 0;\n\n  // Format the list according to options, store the length of the longest string\n  const formatted = list.map((val) => {\n    if (Array.isArray(val)) {\n      // Recursively format columns if list is a multi-dimensional array\n      return formatColumn(val, opts);\n    }\n    // Clean up the value\n    val = unformat(val, opts.decimal);\n\n    // Choose which format to use for this value (pos, neg or zero)\n    let useFormat;\n\n    if (val > 0) {\n      useFormat = formats.pos;\n    } else if (val < 0) {\n      useFormat = formats.neg;\n    } else {\n      useFormat = formats.zero;\n    }\n\n    // Format this value, push into formatted list and save the length\n    const fVal = useFormat\n      .replace('%s', opts.symbol)\n      .replace('%v', formatNumber(Math.abs(val), opts));\n\n    if (fVal.length > maxLength) {\n      maxLength = fVal.length;\n    }\n\n    return fVal;\n  });\n\n  // Pad each number in the list and send back the column of numbers\n  return formatted.map((val) => {\n    // Only if this is a string (not a nested array, which would have already been padded)\n    if (isString(val) && val.length < maxLength) {\n      // Depending on symbol position, pad after symbol or at index 0\n      return padAfterSymbol ?\n        val.replace(opts.symbol, opts.symbol + (new Array(maxLength - val.length + 1).join(' '))) :\n        (new Array(maxLength - val.length + 1).join(' ')) + val;\n    }\n    return val;\n  });\n}\n\nexport default formatColumn;\n"],"names":[],"mappings":"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"}